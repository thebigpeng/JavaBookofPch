---
title: MySQL汇总
date: 2021-03-24 21:34:13
tags:
 - MySql面经
categories: MySQL
---

<!-- toc -->

## 1. 事务

### 1.1什么是事务？

<font color='orange'>事务是由单独单元的一个或多个SQL语句组成，在这 个单元中，每个MySQL语句是相互依赖的。</font>

### 1.2事务的四大特性

- **原子性（Atomicity）：** 事务是最小的执行单位，不允许分割。事务的原子性确保动作要么全部完成，要么完全不起作用；
- **一致性（Consistency）：** 执行事务后，数据库从一个正确的状态变化到另一个正确的状态；
- **隔离性（Isolation）：** 并发访问数据库时，一个用户的事务不被其他事务所干扰，各并发事务之间数据库是独立的；
- **持久性（Durability）：** 一个事务被提交之后。它对数据库中数据的改变是持久的，即使数据库发生故障也不应该对其有任何影响。

### 1.3 并发事务的风险

1. **脏读**（Dirty read）：就是指一个事务读到了另一个数据未提交的数据，由于这个数据还未提交，是脏数据，对其进行的任何操作都是不正确的；
2. **不可重复读**（Unrepeatableread）：是指同一个事务在对记录连续读取的时候出现读取的信息不一致，由于在读的时候另一个时候对该记录进行了更改；
3. **丢失修改**（Lost to modify）：丢失修改的原因也是由于一个事务在对某条记录进行更改时，另一个事务也对该记录进行了更改，导致前者的修改丢失。
4. **幻读**（**Phantom read**）：幻读与不可重复读类似。它发生在一个事务（T1）读取了几行数据，接着另一个并发事务（T2）插入了一些数据时。在随后的查询中，第一个事务（T1）就会发现多了一些原本不存在的记录，就好像发生了幻觉一样，所以称为幻读。